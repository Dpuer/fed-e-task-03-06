# 王昱旸 | Part 3 | 模块六

## 简答题

### 第一题

#### 题目

1、说说 application/json 和 application/x-www-form-urlencoded 二者之间的区别

#### 解答

application/x-www-form-urlencoded方式是比较老的一种方式，这种方式的好处就是浏览器都支持，

在请求发送过程中会对数据进行序列化处理，以键值对形式？key1=value1&key2=value2的方式发送到服务器，


application/json，随着json规范的越来越流行，并且浏览器支持程度原来越好，许多开发人员易application/json作为请求content-type，

告诉服务器请求的主题内容是json格式的字符串，服务器端会对json字符串进行解析，

这种方式的好处就是前端人员不需要关心数据结构的复杂度，

只要是标准的json格式就能提交成功，application/json数据格式越来越得到开发人员的青睐

### 第二题

#### 题目

2、说一说在前端这块，角色管理你是如何设计的

#### 解答

+ 说角色管理永远绕不开权限管理，这里我们简单说一下权限管理，权限管理简单来说就是控制用户所能使用当前系统的哪些功能，具体细化到模块，按钮等等。
+ 角色管理往往是基于业务管理需求而预先在系统中设定好的固定标签，每个角色对应明确的系统权限，他是一个集合的概念，是众多最小权限颗粒的组成。我们通过把权限给这个角色，再把角色给账号，从而实现账号的权限，因此它承担了一个桥梁的作用。
+ 引入角色这个概念，可以帮助我们灵活的扩展，使一个账号可以具备多种角色，其所拥有的系统权限一般不会随意更改，并且角色也不会随着用户的被添加和被移除而进行改变，相较于用户管理而言更加稳定

### 第三题

#### 题目

3、@vue/cli 跟 vue-cli 相比，@vue/cli 的优势在哪？

#### 解答

+ 启动@Vue-Cli Gui, 项目依赖 清晰明了亦可直接在界面安装依赖
+ 在 2.x 版本里，不管数据多大，都会在一开始就为其创建观察者。当数据很大时，这可能会在页面载入时造成明显的性能压力。3.x 版本，只会对「被用于渲染初始可见部分的数据」创建观察者，而且 3.x 的观察者更高效
+ 3.0 新加入了 TypeScript 以及 PWA 的支持
+ 配置项更简单明了
+ 移除了配置文件目录，config 和 build 文件夹, 额外配置可通过在根目录vue.config.js 配置
+ 移除了 static 文件夹，新增 public 文件夹，并且 index.html 移动到 public 中
+ 在 src 文件夹中新增了 views 文件夹，用于分类 视图组件 和 公共组件

### 第四题

#### 题目

4、详细讲一讲生产环境下前端项目的自动化部署的流程

#### 解答

+ 需要提前安装 JDK，JDK 安装教程网上很多，请自行搜索。
+ 下载jenkins 并且安装，完成后自动打开http://localhost:8000，这时需要等待一会，进行初始化
+ 按照提示找到对应的文件（直接复制路径在我的电脑中打开），其中有管理员密码。
+ 安装社区推荐的插件并创建管理员用户，点击完成并保存，然后一路下一步。
+ 配置完成后自动进入首页，这时点击 Manage Jenkins -> Manage plugins 安装插件。
+ 点击 可选插件，输入 nodejs，搜索插件，然后安装
+ 安装完成后回到首页，点击 Manage Jenkins -> Global Tool Configuration 配置 nodejs。如果你的电脑是 win7 的话，nodejs 版本最好不要太高，选择 v12 左右的就行。
+ 下载 Jenkins 提供的 demo 项目 building-a-multibranch-pipeline-project，然后在你的 Gitea 新建一个仓库,把内容克隆进去，并提交到 Git服务器。
+ 打开 Jenkins 首页，点击 新建 Item 创建项目
+ 选择源码管理，输入你的 Git 上的仓库地址。
+ 选择你的构建环境，这里选择刚才配置的 nodejs
+ 点击增加构建步骤，windows 要选 execute windows batch command，linux 要选 execute shell。
+ 构建命令输入 npm i && npm run build && xcopy .\build* G:\node-server\dist\ /s/e/y，这行命令的作用是安装依赖，构建项目，并将构建后的静态资源复制到指定目录 G:\node-server\dist\。这个目录是静态服务器资源目录(自行修改为你的服务器资源目录)
+ 保存后，返回首页。点击项目旁边的小三角，选择 build now, 开始构建项目，我们可以点击项目查看构建过程, 最后输出finished success 就构建成功了

### 第五题

#### 题目

5、你在开发过程中，遇到过哪些问题，又是怎样解决的？请讲出两点

#### 解答

1. 之前遇到一个elementUI中textarea自适应高度计算不正确的问题，开始以为是组件本身的问题，后来发现官网demo没有问题，开始对自己的项目做减法，最后得出其实是有个全局的渐变样式导致了高度不能直达最终状态导致的
2. 之前遇到一个画布的问题，画布在初始化的时候需要传入固定的高宽从而确定画布的宽高，但是对应的宽高不固定，需要从后端获取，就会出现初始化等待接口的情况；开始的方案是改造画布组件让其在watch宽高编号时再进行初始化，但是这样会存在组件在获取到真实宽高之前的生成是无意义的，后续优化为获取真实宽高后再挂载画布组件，从而达到性能优化的目的

### 第六题

#### 题目

6、针对新技术，你是如何过渡到项目中？

#### 解答

首先考虑新技术是否对产品和项目能产生实际价值，比如人效提升、代码复用、性能优化等；然后我会先输出一个极简的demo再与领导沟通汇报，确定落地的形式和方法；最开始先从业务相对简单相对独立的项目实验落地，再持续的根据项目中的反馈进行优化和调整，最后落地到全部适用场景的项目中。
